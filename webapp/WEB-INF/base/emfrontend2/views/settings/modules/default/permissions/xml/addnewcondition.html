<div id="edit$permission.name" class="form-inline">

#set( $inparent = $context.getRequestParameter("inparent"))

#set( $list = $searcherManager.getList("system","conditiontypes"))

#set( $traverse = $context.getRequestParameter("traverse"))
<label>[[Add Condition]]:</label>
<div class="form-group mx-sm-3">
	
	<select name="selecttype$permission.name" id="selecttype$permission.name" class="form-control form-control-sm" >
			<option value="">[[select a type]]</option>
		#foreach( $condition in $list)
			<option value="$condition.id">$condition.name</option>
		#end
	</select>
</div>
<input class="btn btn-sm btn-primary" type="button" onclick="addCondition('$permission.name','$!traverse');" value="[[Ok]]" />
<div class="clearix"></div>
</div>

<script >

	addCondition = function(inName, inTraverse )
	{
		var theselect = document.getElementById("selecttype" + inName );
		var conditiontype = theselect.options[theselect.selectedIndex].value;
		$('#edit'+inName).load('$home$content.permissionrootpath/addnewfinish.html?editPath=$editPath&name='+ inName + '&traverse=' + inTraverse + "&conditiontype=" + conditiontype + "&oemaxlevel=1");
	}
	//The parent javascript has showpath
</script>
	